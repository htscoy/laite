import{jsx as o,jsxs as s}from"react/jsx-runtime";import{RouterProvider as T,useRouter as v,useMatch as $,rootRouteId as N,ErrorComponent as k,Link as p,createRootRoute as M,Outlet as F,HeadContent as D,Scripts as E,createFileRoute as i,lazyRouteComponent as u,createRouter as j}from"@tanstack/react-router";import{TanStackRouterDevtools as I}from"@tanstack/react-router-devtools";import{createMiddleware as f,registerGlobalMiddleware as A}from"@tanstack/start-client-core";import H from"tiny-invariant";import{PassThrough as B}from"node:stream";import{isbot as h}from"isbot";import c from"react-dom/server";import{defineHandlerCallback as G,transformReadableStreamWithRouter as O,transformPipeableStreamWithRouter as W,createStartHandler as U}from"@tanstack/start-server-core";function y(e){return o(T,{router:e.router})}const q=G(async({request:e,router:t,responseHeaders:n})=>{if(typeof c.renderToReadableStream=="function"){const r=await c.renderToReadableStream(o(y,{router:t}),{signal:e.signal});h(e.headers.get("User-Agent"))&&await r.allReady;const a=O(t,r);return new Response(a,{status:t.state.statusCode,headers:n})}if(typeof c.renderToPipeableStream=="function"){const r=new B;try{const l=c.renderToPipeableStream(o(y,{router:t}),{...h(e.headers.get("User-Agent"))?{onAllReady(){l.pipe(r)}}:{onShellReady(){l.pipe(r)}},onError:(P,S)=>{console.error("Error in renderToPipeableStream:",P,S)}})}catch(l){console.error("Error in renderToPipeableStream:",l)}const a=W(t,r);return new Response(a,{status:t.state.statusCode,headers:n})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")}),z=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/","/settings","/_pathlessLayout/_nested-layout"],preloads:["/_build/assets/client-BqfvLJqf.js","/_build/assets/client-DoY993jj.js"]},"/":{filePath:"index.tsx"},"/settings":{filePath:"settings.tsx"},"/_pathlessLayout/_nested-layout":{filePath:"_pathlessLayout/_nested-layout.tsx",children:["/_pathlessLayout/_nested-layout/route-a","/_pathlessLayout/_nested-layout/route-b"]},"/_pathlessLayout/_nested-layout/route-a":{filePath:"_pathlessLayout/_nested-layout/route-a.tsx",parent:"/_pathlessLayout/_nested-layout"},"/_pathlessLayout/_nested-layout/route-b":{filePath:"_pathlessLayout/_nested-layout/route-b.tsx",parent:"/_pathlessLayout/_nested-layout"}}});function J(e){return globalThis.MANIFEST[e]}function X(){const e=z(),t=e.routes.__root__=e.routes.__root__||{};t.assets=t.assets||[];let n="";const r=J("client"),a=r.inputs[r.handler]?.output.path;return a||H(a,"Could not find client entry in vinxi manifest"),t.assets.push({tag:"script",attrs:{type:"module",suppressHydrationWarning:!0,async:!0},children:`${n}import("${a}")`}),e}function Y(){const e=X();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([t,n])=>{const{preloads:r,assets:a}=n;return[t,{preloads:r,assets:a}]}))}}function g({error:e}){const t=v(),n=$({strict:!1,select:r=>r.id===N});return console.error("DefaultCatchBoundary Error:",e),s("div",{className:"min-w-0 flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[o(k,{error:e}),s("div",{className:"flex gap-2 items-center flex-wrap",children:[o("button",{onClick:()=>{t.invalidate()},className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Try Again"}),n?o(p,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Home"}):o(p,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",onClick:r=>{r.preventDefault(),window.history.back()},children:"Go Back"})]})]})}function R({children:e}){return s("div",{className:"space-y-2 p-2",children:[o("div",{className:"text-gray-600 dark:text-gray-400",children:e||o("p",{children:"The page you are looking for does not exist."})}),s("p",{className:"flex items-center gap-2 flex-wrap",children:[o("button",{onClick:()=>window.history.back(),className:"bg-emerald-500 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Go back"}),o(p,{to:"/",className:"bg-cyan-600 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Start Over"})]})]})}const K="/_build/assets/app-DbHUbXFG.css",d=M({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}],links:[{rel:"stylesheet",href:K}]}),errorComponent:e=>o(_,{children:o(g,{...e})}),notFoundComponent:()=>o(R,{}),component:Q});function Q(){return o(_,{children:o(F,{})})}function _({children:e}){return s("html",{children:[o("head",{children:o(D,{})}),s("body",{children:[e,o(I,{position:"bottom-right"}),o(E,{})]})]})}const V=()=>import("./assets/settings-CxxHolBS.js"),b=i("/settings")({component:u(V,"component",()=>b.ssr)}),Z=()=>import("./assets/index-CkqYPF5M.js"),x=i("/")({component:u(Z,"component",()=>x.ssr)}),ee=()=>import("./assets/_nested-layout-BHe2HPJb.js"),w=i("/_pathlessLayout/_nested-layout")({component:u(ee,"component",()=>w.ssr)}),te=()=>import("./assets/route-b-D9PRTkM1.js"),C=i("/_pathlessLayout/_nested-layout/route-b")({component:u(te,"component",()=>C.ssr)}),oe=()=>import("./assets/route-a-E7oJVDbm.js"),L=i("/_pathlessLayout/_nested-layout/route-a")({component:u(oe,"component",()=>L.ssr)}),re=b.update({id:"/settings",path:"/settings",getParentRoute:()=>d}),ne=x.update({id:"/",path:"/",getParentRoute:()=>d}),m=w.update({id:"/_pathlessLayout/_nested-layout",getParentRoute:()=>d}),ae=C.update({id:"/route-b",path:"/route-b",getParentRoute:()=>m}),se=L.update({id:"/route-a",path:"/route-a",getParentRoute:()=>m}),ie={PathlessLayoutNestedLayoutRouteARoute:se,PathlessLayoutNestedLayoutRouteBRoute:ae},ue=m._addFileChildren(ie),le={IndexRoute:ne,SettingsRoute:re,PathlessLayoutNestedLayoutRoute:ue},ce=d._addFileChildren(le)._addFileTypes();function de(){return j({routeTree:ce,defaultPreload:"intent",defaultErrorComponent:g,defaultNotFoundComponent:()=>o(R,{}),scrollRestoration:!0})}const pe=f().client(async e=>{const t=new Date;return e.next({context:{clientTime:t},sendContext:{clientTime:t}})}),me=f().middleware([pe]).client(async e=>{const t=await e.next(),n=new Date;return console.log("Client Req/Res:",{duration:t.context.clientTime.getTime()-n.getTime(),durationToServer:t.context.durationToServer,durationFromServer:n.getTime()-t.context.serverTime.getTime()}),t});A({middleware:[me]});const Ce=U({createRouter:de,getRouterManifest:Y})(q);export{Ce as default};
